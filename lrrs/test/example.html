<html>
    <head>
        <title>LRRS: Tokio testbed</title>
        <script>
            let ws = new WebSocket("http://localhost:5777");

            ws.addEventListener("error", (event) => {});

            ws.addEventListener("close", (closeEvent) => {
                let message = `closed because ${closeEvent.reason}`;
                if (closeEvent.wasClean) {
                    console.log(message);
                } else {
                    console.error(message, closeEvent.code);
                }
            });

            ws.addEventListener("message", (message) => {
                // TODO: expand this thing.
                console.log("got message", message);
            });
        </script>
    </head>
    <body>
        <!-- TODO: figure out how to put live-reload shenanigans here! -->
    </body>
</html>
